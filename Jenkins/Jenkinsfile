@Library('BranchingPOC') _
pipeline {
     options {
    skipDefaultCheckout true
  }
  triggers {
    GenericTrigger(
     genericVariables: [
      [key: 'ref', value: '$.review.state']
     ],

     token: 'review',
    
    )
  }
    agent any
    environment {
        CURRENT_USER = null
        QA_USER = credentials('Jenkins_QA_User')
        QA_CONSUMER_KEY = credentials('QA_CONSUMER_KEY')
        
    }
    stages {
        stage('Init') {
            
            steps {
                  catchError {
            checkout scm
                  }
                script {
                   
                    log.info 'YESSS from info'
                    
                }
            }
             post {
                success {
                    echo 'Compile stage successful'
                }
                failure {
                    echo 'Compile stage failed setting variables'
                }
            }
            
        }

        
    }
    post {
    failure {
     echo 'Failed!'
    }
  }
}
